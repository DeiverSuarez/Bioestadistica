# Estad√≠stica Descriptiva

```{r}
#| echo: false
# Establecer opciones globales de chunk
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
```

Este cap√≠tulo explora un conjunto de datos reales proveniente del [Stroke Prediction Dataset](https://www.kaggle.com/datasets/fedesoriano/stroke-prediction-dataset), disponible tambi√©n en [Github](https://github.com/DeiverSuarez/Bioestadistica/blob/main/healthcare-dataset-stroke-data.csv). El dataset contiene informaci√≥n demogr√°fica, m√©dica y de comportamiento de pacientes, con el objetivo de predecir la ocurrencia de accidentes cerebrovasculares (ACV).

Utilizaremos herramientas de estad√≠stica descriptiva para explorar y resumir los datos, apoy√°ndonos en visualizaciones gr√°ficas, c√≥digo en R, aplicaciones Shiny y recursos audiovisuales complementarios.


**Clasificaci√≥n de las variables**

En la siguiente tabla se presenta una descripci√≥n de las variables del conjunto de datos, clasificadas seg√∫n su tipo (categ√≥rica o cuantitativa) y su escala de medici√≥n.


```{r, echo=FALSE}
library(knitr)
library(kableExtra)

summary_df_simple <- data.frame(
  Variable = c("gender", "age", "hypertension", "heart_disease", "ever_married", "work_type",
               "Residence_type", "avg_glucose_level", "bmi", "smoking_status", "stroke"),
  `Tipo.de.Variable` = c("Categ√≥rica", "Cuantitativa", "Categ√≥rica", "Categ√≥rica", "Categ√≥rica", "Categ√≥rica",
                         "Categ√≥rica", "Cuantitativa", "Cuantitativa", "Categ√≥rica", "Categ√≥rica"),
  `Escala.de.Medici√≥n` = c("Nominal", "Ratio", "Ordinal", "Nominal", "Nominal", "Nominal",
                           "Nominal", "Ratio", "Ratio", "Nominal", "Nominal")
)

kable(summary_df_simple, format = "html", caption = "Tabla de clasificaci√≥n de variables") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F, position = "center") %>%
  column_spec(1, bold = TRUE)
```

------------------------------------------------------------------------

## Carga y descripci√≥n del conjunto de datos

```{r}
datos <- read.csv("healthcare-dataset-stroke-data.csv")
head(datos)
```

------------------------------------------------------------------------

## Gr√°ficos descriptivos (Variables Cuantitativa)

### Boxplot de edad seg√∫n presencia de ACV

Este gr√°fico permite comparar la distribuci√≥n de la edad entre pacientes que han sufrido un ACV (stroke = 1) y los que no (stroke = 0).

```{r}
boxplot(age ~ stroke, data = datos, main = "Edad por Stroke", col = "lightblue")
```

------------------------------------------------------------------------

### Histograma del nivel promedio de glucosa

Este histograma muestra la distribuci√≥n de la variable avg_glucose_level y superpone una curva de densidad para observar su comportamiento general.

```{r}
hist(datos$avg_glucose_level,
     main = "Distribuci√≥n del nivel de glucosa",
     xlab = "Nivel de glucosa",
     col = "lightgreen",
     probability = TRUE, breaks = 50)  # activa escala de densidad

lines(density(datos$avg_glucose_level), col = "darkgreen", lwd = 2)  # curva de densidad
```

------------------------------------------------------------------------

### scatter plot (diagrama de dispersi√≥n) entre las variables Age y Bmi

Esta visualizaci√≥n permite explorar la posible relaci√≥n lineal o no lineal entre la edad y el √≠ndice de masa corporal (BMI).

```{r}
plot(datos$age, datos$bmi, 
     main = "Relaci√≥n entre Edad y BMI",
     xlab = "Edad",
     ylab = "BMI",
     pch = 19, col = "darkblue")
```

## Gr√°ficos descriptivos (Variables Categ√≥ricas)

### Gr√°fico de barras apiladas

Este gr√°fico de barras apiladas normalizadas muestra la proporci√≥n de pacientes con y sin enfermedad card√≠aca, seg√∫n su estatus como fumadores.

```{r}
library(ggplot2)
library(dplyr)
datos %>%
  count(smoking_status, heart_disease) %>%
  group_by(smoking_status) %>%
  mutate(porcentaje = n / sum(n) * 100) %>%
  ggplot(aes(x = smoking_status, y = porcentaje, fill = factor(heart_disease))) +
  geom_col(position = "fill") +
  scale_y_continuous(labels = scales::percent) +
  labs(title = "Proporci√≥n de Heart Disease por Smoking Status",
       x = "Smoking Status", y = "Porcentaje", fill = "Heart Disease") +
  theme_minimal()

```

### graficon de frecuencia absoluta y relativa

A continuaci√≥n, se presentan dos gr√°ficos: el primero muestra la frecuencia absoluta de cada categor√≠a de fumador, mientras que el segundo presenta la frecuencia relativa (en porcentaje).

```{r}
library(patchwork)  # para p1 + p2

# Gr√°fico de frecuencia absoluta
p1 <- ggplot(datos, aes(x = smoking_status)) +
  geom_bar(fill = "steelblue") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 25)) +  # ROTACI√ìN del eje x
  labs(title = "Frecuencia absoluta smoking status", x = "Smoking Status", y = "Frecuencia")

# Gr√°fico de frecuencia relativa
p2 <- datos %>%
  count(smoking_status) %>%
  mutate(porcentaje = n / sum(n) * 100) %>%
  ggplot(aes(x = smoking_status, y = porcentaje)) +
  geom_col(fill = "darkorange") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 25)) +  # ROTACI√ìN del eje x
  geom_text(aes(label = paste0(round(porcentaje, 1), "%")), vjust = -0.5) +
  labs(title = "Frecuencia relativa smoking status", x = "Smoking Status", y = "Porcentaje")

# Mostrar ambos gr√°ficos lado a lado
p1 + p2

```

### Gr√°fico de barras agrupadas

Este gr√°fico permite comparar de forma directa la frecuencia de enfermedad card√≠aca en cada categor√≠a de fumador.

```{r}

ggplot(datos, aes(x = smoking_status, fill = factor(heart_disease))) +
  geom_bar(position = "dodge") +
  labs(title = "Smoking Status vs Heart Disease (Barras Agrupadas)", x = "Smoking Status", fill = "Heart Disease") +
  theme_minimal()

```

### Mapa de calor de una tabla de contingencia

Representaci√≥n visual de la frecuencia entre categor√≠as cruzadas de smoking_status y heart_disease.

```{r}
library(reshape2)

tabla <- table(datos$smoking_status, datos$heart_disease)
df_heat <- as.data.frame(tabla)
names(df_heat) <- c("smoking_status", "heart_disease", "frecuencia")

ggplot(df_heat, aes(x = heart_disease, y = smoking_status, fill = frecuencia)) +
  geom_tile() +
  geom_text(aes(label = frecuencia), color = "white") +
  scale_fill_gradient(low = "lightblue", high = "darkblue") +
  labs(title = "Heatmap: Smoking Status vs Heart Disease",
       x = "Heart Disease", y = "Smoking Status") +
  theme_minimal()
```

### Gr√°fico de pastel (pie chart)
Una visualizaci√≥n cl√°sica de distribuci√≥n proporcional para smoking_status.

```{r}

datos %>%
  count(smoking_status) %>%
  mutate(porcentaje = n / sum(n) * 100,
         label = paste0(smoking_status, ": ", round(porcentaje, 1), "%")) %>%
  ggplot(aes(x = "", y = porcentaje, fill = smoking_status)) +
  geom_col(width = 1) +
  coord_polar(theta = "y") +
  theme_void() +
  geom_text(aes(label = label), position = position_stack(vjust = 0.5)) +
  labs(title = "Distribuci√≥n de Smoking Status")

```



## Aplicaci√≥n interactiva

Como complemento a este cap√≠tulo, se ha desarrollado una aplicaci√≥n interactiva utilizando Shiny que permite explorar conceptos de estad√≠stica descriptiva y an√°lisis exploratorio con visualizaciones din√°micas y opciones personalizables para el usuario.

üîó **Accede a la app aqu√≠:**\
üëâ <https://deiversg.shinyapps.io/app_statistical_Methods/>

------------------------------------------------------------------------

üé• **Video tutorial ‚Äì ¬øC√≥mo usar la app?**

::: only-html
<iframe width="560" height="315" src="https://www.youtube.com/embed/TU_ID_DEL_VIDEO" title="Tutorial app estad√≠stica" frameborder="0" allowfullscreen>

</iframe>
:::

::: only-pdf
Video tutorial: [¬øC√≥mo usar la app?](https://www.youtube.com/watch?v=TU_ID_DEL_VIDEO)
:::

------------------------------------------------------------------------

## Recursos audiovisuales

### üé• Introducci√≥n a la estad√≠stica descriptiva

::: only-html
<iframe width="560" height="315" src="https://www.youtube.com/embed/W1_eCwuYkAI" title="Estad√≠stica descriptiva b√°sica" frameborder="0" allowfullscreen>

</iframe>
:::

::: only-pdf
Video: [Introducci√≥n a la estad√≠stica descriptiva](https://www.youtube.com/watch?v=W1_eCwuYkAI)
:::

------------------------------------------------------------------------

### üìä Visualizaci√≥n de datos en R (boxplots, histogramas)

::: only-html
<iframe width="560" height="315" src="https://www.youtube.com/embed/QyntPbbTOns" title="Visualizaci√≥n en R" frameborder="0" allowfullscreen>

</iframe>
:::

::: only-pdf
Video: [Visualizaci√≥n de datos en R](https://www.youtube.com/watch?v=QyntPbbTOns)
:::

------------------------------------------------------------------------

### üêç Exploraci√≥n con Python (Seaborn, pandas)

::: only-html
<iframe width="560" height="315" src="https://www.youtube.com/embed/ludqgCJe1aI" title="Python Exploratorio" frameborder="0" allowfullscreen>

</iframe>
:::

::: only-pdf
Video: [Exploraci√≥n con Python](https://www.youtube.com/watch?v=ludqgCJe1aI)
:::

------------------------------------------------------------------------

## Conclusi√≥n

El an√°lisis exploratorio de datos con herramientas como R y Python permite obtener una comprensi√≥n inicial robusta de los patrones en datos biom√©dicos. Esto es esencial antes de aplicar modelos predictivos como regresi√≥n o clasificaci√≥n. El uso de gr√°ficos y res√∫menes num√©ricos fortalece la interpretaci√≥n cl√≠nica y estad√≠stica de los fen√≥menos observados.
